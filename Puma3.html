<!-- START: Titoli che scorrono verso sinistra, tutto allineato a sinistra -->
<style>
  .now-playing-box {
    margin: 20px 0;           /* margine solo sopra e sotto */
    font-size: 20px;
    font-family: Playball, cursive;
    color: red;
    display: flex;
    align-items: center;
    justify-content: flex-start; /* tutto a sinistra */
    width: 100%;
    max-width: none;          /* togli max-width per usare tutta la larghezza */
    height: 48px;
    overflow: hidden;
    padding: 0;
  }

  .bar {
    font-size: 26px;
    font-weight: bold;
    color: white;
    user-select: none;
    padding: 0 8px;
    flex-shrink: 0;
    line-height: 48px;
  }

  .scroll-container {
    flex: 1;
    overflow: hidden;
    position: relative;
    height: 100%;
    display: flex;
    align-items: center;
    padding-left: 4px;
  }

  .scrolling-text {
    position: absolute;
    white-space: nowrap;
    will-change: transform;
    animation: scroll-left 12s linear infinite;
    color: red;
    line-height: 48px;
  }

  @keyframes scroll-left {
    0% {
      transform: translateX(100%);
    }
    100% {
      transform: translateX(-100%);
    }
  }
</style>

<div class="now-playing-box">
  <div class="bar">|</div>
  <div class="scroll-container">
    <div class="scrolling-text" id="npTitle">Caricamentoâ€¦</div>
  </div>
  <div class="bar">|</div>
</div>

<script>
  const streamId = '3st3d3pwa0hvv';
  const metadataUrl = `https://api.zeno.fm/mounts/metadata/subscribe/${streamId}`;
  const titleEl = document.getElementById('npTitle');

  const es = new EventSource(metadataUrl);
  es.onmessage = event => {
    try {
      const data = JSON.parse(event.data);
      titleEl.textContent = data.streamTitle.trim();
    } catch (err) {
      console.error('Errore parsing metadata:', err, event.data);
    }
  };

  es.onerror = err => console.error('SSE error:', err);
</script>
<!-- END: Titoli che scorrono verso sinistra -->
